<%- include('../partials/head.ejs') %>

<body style="background-color: black; color: white">
<%- include('../partials/header.ejs')%>
    <div class="bdy-container">
        <div class="title">
            <h1 style="text-align: center; padding-top: 5px; margin-bottom: 0px;">Lethal Tempo</h1>
        </div>
        <div class="body-container">
            <h1 style="font-family: DM Sans, sans-serif;">Welcome <%= user ? user.display_name : 'Guest' %></h1>
            <%- include('../partials/nav.ejs') %>
            <br>
            <br>
            <div class="topTracksList" style="width: 70%;">
                <div class="list2">
                    <h3 class="topTracks-title">Top 25 Liked Tracks</h3>
                    <% if (trackDetails) { %>
                        <ol>
                            <% for(let i = 0; i < 25; i++) { %>
                                <% if (trackDetails && trackDetails[i]) { %>
                                <a class="track-link" href="/track/<%= trackDetails[i].id %>">
                                    <li class="track-card">
                                        <div class="album-cover">
                                            <img src="<%= trackDetails[i].album.images[0].url %>" alt="Album cover">
                                        </div>
                                        <div class="track-info">
                                            <h2 class="track-title"><%= trackDetails[i].name %></h2>
                                            <p class="artist-name"><%= trackDetails[i].artists[0].name %></p>
                                            <div class="track-stats-container">
                                                <p class="track-stat">Likes: <%= trackDetails[i].likeCount %></p>
                                                <p class="track-stat">Dislikes: <%= trackDetails[i].dislikeCount %></p>
                                            </div>
                                        </div>
                                    </li>
                                </a>
                                <% } %>
                            <% } %>
                        </ol>
                    <% } %>
                </div>
                <div class="list2">
                    <h3 class="topTracks-title">Top 25 Disliked Tracks</h3>
                    <% if (trackDetails) { %>
                        <ol>
                            <% for(let i = 25; i < 50; i++) { %>
                                <% if (trackDetails && trackDetails[i]) { %>
                                <a class="track-link" href="/track/<%= trackDetails[i].id %>">
                                    <li class="track-card">
                                        <div class="album-cover">
                                            <img src="<%= trackDetails[i].album.images[0].url %>" alt="Album cover">
                                        </div>
                                        <div class="track-info">
                                            <h2 class="track-title"><%= trackDetails[i].name %></h2>
                                            <p class="artist-name"><%= trackDetails[i].artists[0].name %></p>
                                            <div class="track-stats-container">
                                                <p class="track-stat">Likes: <%= trackDetails[i].likeCount %></p>
                                                <p class="track-stat">Dislikes: <%= trackDetails[i].dislikeCount %></p>
                                            </div>
                                        </div>
                                    </li>
                                </a>
                                <% } %>
                            <% } %>
                        </ol>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
    </body>
    
    </html>